(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4496:function(e,t,r){Promise.resolve().then(r.t.bind(r,4811,23)),Promise.resolve().then(r.bind(r,9064)),Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,1245))},1245:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return c},a:function(){return l}});var n=r(7437),a=r(2265),i=r(3301),o=r(6410),u=r(5978);let s=(0,a.createContext)(void 0);function l(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function c(e){let{children:t}=e,[r,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0);async function m(e,t,r,n){try{let a=(await (0,i.Xb)(o.I8,e,t)).user;await (0,i.ck)(a,{displayName:r}),await (0,u.pl)((0,u.JU)(o.db,"users",a.uid),{uid:a.uid,email:a.email,displayName:r,role:n,createdAt:new Date().toISOString()})}catch(e){throw console.error("Error during signup:",e),e}}async function f(e,t){try{await (0,i.e5)(o.I8,e,t)}catch(e){throw console.error("Error during login:",e),e}}async function h(){try{await (0,i.w7)(o.I8)}catch(e){throw console.error("Error during logout:",e),e}}return(0,a.useEffect)(()=>{let e=(0,i.Aj)(o.I8,async e=>{if(e)try{let t=await (0,u.QT)((0,u.JU)(o.db,"users",e.uid));if(t.exists()){let r=t.data();l({uid:e.uid,email:e.email,displayName:e.displayName,role:r.role})}else console.warn("User document not found in Firestore"),l({uid:e.uid,email:e.email,displayName:e.displayName,role:"student"})}catch(e){console.error("Error fetching user data:",e),l(null)}else l(null);d(!1)});return()=>e()},[]),(0,n.jsx)(s.Provider,{value:{user:r,loading:c,signup:m,login:f,logout:h},children:t})}},6410:function(e,t,r){"use strict";let n;r.d(t,{I8:function(){return u},db:function(){return s}});var a=r(738),i=r(3301),o=r(5978);r(9761),n=(0,a.C6)().length?(0,a.C6)()[0]:(0,a.ZF)({apiKey:"AIzaSyApET8-Esu22RoYeldw6USghH9NV3vSQyY",authDomain:"quizmanagement-8207e.firebaseapp.com",projectId:"quizmanagement-8207e",storageBucket:"quizmanagement-8207e.firebasestorage.app",messagingSenderId:"137678753393",appId:"1:137678753393:web:32a414898af4ac719595d0",measurementId:"G-BZCXD15L2K"});let u=(0,i.v0)(n),s=(0,o.ad)(n)},2778:function(){},4811:function(e){e.exports={style:{fontFamily:"'__Inter_84d4b3', '__Inter_Fallback_84d4b3'",fontStyle:"normal"},className:"__className_84d4b3"}}},function(e){e.O(0,[2,853,139,978,64,971,117,744],function(){return e(e.s=4496)}),_N_E=e.O()}]);