(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[858],{4817:function(e,t,a){Promise.resolve().then(a.bind(a,3175))},3175:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var s=a(7437),r=a(2265),i=a(7120),n=a(7648),l=a(1245),c=a(6410),d=a(5978),o=a(2496),m=a(9064);function u(){let{user:e}=(0,l.a)(),[t,a]=(0,r.useState)([]),[u,h]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{if(e)try{let t=(0,d.IO)((0,d.hJ)(c.db,"quizzes"),(0,d.ar)("isPublished","==",!0),(0,d.Xo)("createdAt","desc")),s=(await (0,d.PL)(t)).docs.map(e=>{var t;return{id:e.id,...e.data(),createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date}}),r=(0,d.IO)((0,d.hJ)(c.db,"attempts"),(0,d.ar)("studentId","==",e.uid)),i=await (0,d.PL)(r),n=new Set(i.docs.map(e=>e.data().quizId)),l=await Promise.all(s.map(async e=>{let t="Unknown";try{let a=await (0,d.PL)((0,d.IO)((0,d.hJ)(c.db,"users"),(0,d.ar)("uid","==",e.createdBy)));a.empty||(t=a.docs[0].data().displayName||"Unknown")}catch(e){console.error("Error fetching creator name:",e)}return{...e,attempted:n.has(e.id),creatorName:t}}));a(l)}catch(e){console.error("Error fetching quizzes:",e),m.ZP.error("Failed to load quizzes")}finally{h(!1)}})()},[e]);let x=e=>e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(0,s.jsx)(i.Z,{children:(0,s.jsxs)("div",{className:"px-4 py-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Available Quizzes"}),u?(0,s.jsx)("div",{className:"py-10",children:(0,s.jsx)(o.Z,{})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length>0?t.map(e=>(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mb-4",children:[(0,s.jsxs)("span",{children:[e.questionCount," questions"]}),(0,s.jsxs)("span",{children:["Pass: ",e.passingPercentage,"%"]})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 mb-6",children:[(0,s.jsxs)("p",{children:["Created by: ",e.creatorName]}),(0,s.jsxs)("p",{children:["Date: ",x(e.createdAt)]})]}),(0,s.jsx)(n.default,{href:"/student/quizzes/".concat(e.id),className:"btn-primary w-full text-center block",children:"Take Quiz"})]})},e.id)):(0,s.jsxs)("div",{className:"col-span-full text-center py-10",children:[(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"No quizzes available at the moment."}),(0,s.jsx)("p",{className:"text-gray-500",children:"Please check back later."})]})})]})})}}},function(e){e.O(0,[853,139,978,448,64,120,971,117,744],function(){return e(e.s=4817)}),_N_E=e.O()}]);