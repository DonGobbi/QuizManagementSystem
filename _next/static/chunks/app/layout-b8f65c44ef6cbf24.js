(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4496:function(e,t,n){Promise.resolve().then(n.t.bind(n,4811,23)),Promise.resolve().then(n.bind(n,9064)),Promise.resolve().then(n.t.bind(n,2778,23)),Promise.resolve().then(n.bind(n,1245))},1245:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return s},a:function(){return E}});var r=n(7437),i=n(2265),o=n(3301),a=n(6410),_=n(5978);let u=(0,i.createContext)(void 0);function E(){let e=(0,i.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function s(e){let{children:t}=e,[n,E]=(0,i.useState)(null),[s,l]=(0,i.useState)(!0);async function c(e,t,n,r){try{let i=(await (0,o.Xb)(a.I8,e,t)).user;await (0,o.ck)(i,{displayName:n}),await (0,_.pl)((0,_.JU)(a.db,"users",i.uid),{uid:i.uid,email:i.email,displayName:n,role:r,createdAt:new Date().toISOString()})}catch(e){throw console.error("Error during signup:",e),e}}async function d(e,t){try{await (0,o.e5)(a.I8,e,t)}catch(e){throw console.error("Error during login:",e),e}}async function I(){try{await (0,o.w7)(a.I8)}catch(e){throw console.error("Error during logout:",e),e}}return(0,i.useEffect)(()=>{let e=(0,o.Aj)(a.I8,async e=>{if(e)try{let t=await (0,_.QT)((0,_.JU)(a.db,"users",e.uid));if(t.exists()){let n=t.data();E({uid:e.uid,email:e.email,displayName:e.displayName,role:n.role})}else console.warn("User document not found in Firestore"),E({uid:e.uid,email:e.email,displayName:e.displayName,role:"student"})}catch(e){console.error("Error fetching user data:",e),E(null)}else E(null);l(!1)});return()=>e()},[]),(0,r.jsx)(u.Provider,{value:{user:n,loading:s,signup:c,login:d,logout:I},children:t})}},6410:function(e,t,n){"use strict";let r;n.d(t,{I8:function(){return E},db:function(){return s}});var i=n(738),o=n(3301),a=n(5978);n(9761);var _=n(257);let u={apiKey:_.env.NEXT_PUBLIC_FIREBASE_API_KEY||"YOUR_API_KEY_PLACEHOLDER",authDomain:_.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"YOUR_AUTH_DOMAIN_PLACEHOLDER",projectId:_.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"YOUR_PROJECT_ID_PLACEHOLDER",storageBucket:_.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"YOUR_STORAGE_BUCKET_PLACEHOLDER",messagingSenderId:_.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"YOUR_MESSAGING_SENDER_ID_PLACEHOLDER",appId:_.env.NEXT_PUBLIC_FIREBASE_APP_ID||"YOUR_APP_ID_PLACEHOLDER",measurementId:_.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||"YOUR_MEASUREMENT_ID_PLACEHOLDER"};r=(0,i.C6)().length?(0,i.C6)()[0]:(0,i.ZF)(u);let E=(0,o.v0)(r),s=(0,a.ad)(r)},2778:function(){},4811:function(e){e.exports={style:{fontFamily:"'__Inter_84d4b3', '__Inter_Fallback_84d4b3'",fontStyle:"normal"},className:"__className_84d4b3"}}},function(e){e.O(0,[2,853,139,978,64,971,117,744],function(){return e(e.s=4496)}),_N_E=e.O()}]);